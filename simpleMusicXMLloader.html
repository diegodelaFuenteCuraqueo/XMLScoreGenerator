
<html>

    <head>
   
        <link rel="stylesheet" href="styles/styles.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

        <script src="https://unpkg.com/opensheetmusicdisplay@0.8.3/build/opensheetmusicdisplay.min.js"></script>

        <title>Simple MusicXML loader</title>    

    </head>


    <body>
       
        <h1>Simple MusicXML loader:</h1>
        
        <label for="myfile">Select a file:</label>
        <input type="file" id="file" name="file">

        <div id="SCORE"></div>    

        <script type="text/javascript">

            var fileIn = document.getElementById("file");

            fileIn.addEventListener("change",function (e){

                let OSMD = new opensheetmusicdisplay.OpenSheetMusicDisplay("SCORE", { 
                                autoResize:true,
                                backend:"svg"});
                
                let texto = "";
    
                file=fileIn.files[0];

                var reader = new FileReader();
                
                reader.onload = function(e) {
                    texto = reader.result;
                }
                                 
                texto = reader.readAsText(file);	

                console.log(texto);
                OSMD.load(texto).then(() => OSMD.render());   
            });

        </script>


    </body>

</html>
